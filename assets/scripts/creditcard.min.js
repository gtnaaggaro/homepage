let loadedCards=[],cardDetails={};function setCompareHeight(){$(".comparing-cards-section .comparing-cards").each((function(){$(this).find(".comparing-column .cards").equalMaxHeights(),$(this).find(".comparing-column .cards .card-title").equalMaxHeights(),$(this).find(".comparing-column .content").equalMaxHeights(),$(this).find(".comparing-column").equalHeights()}))}function popupSlider(){$(".popup-card-slider .card-slider").not(".slick-initialized").slick({dots:!1,arrows:!0,infinite:!0,autoplay:!1,autoplaySpeed:5e3,speed:500,slidesToShow:3,slidesToScroll:3,responsive:[{breakpoint:767,settings:{dots:!0,arrows:!1,slidesToShow:2,slidesToScroll:2}},{breakpoint:560,settings:{dots:!0,arrows:!1,slidesToShow:1,slidesToScroll:1}}]})}function addCardToCompare(id){if(-1===$.inArray(id,loadedCards)){if(loadedCards.length<3)loadedCards.push(id);else{var empty_index=$.inArray("",loadedCards);empty_index>-1?loadedCards[empty_index]=id:alert("You have already selected 3 itemss")}showLoaded()}else alert("You have already selected this item")}function removeCardFromCompare(id){"all"==id?(loadedCards=[],populateCompare()):-1!==$.inArray(id,loadedCards)&&(loadedCards[$.inArray(id,loadedCards)]=""),showLoaded()}function populateCompare(){var cardData=getCardDetail();$(".comparing-column.compare-content").each((function(index){cardData[index]?($(this).removeClass("empty-card-content").find(".comparing-block.empty-cards").addClass("hide"),$(this).find(".comparing-block").not(".empty-cards").removeClass("hide"),populateCompareData($(this),cardData[index])):($(this).addClass("empty-card-content").find(".comparing-block.empty-cards").removeClass("hide"),$(this).find(".comparing-block").not(".empty-cards").addClass("hide"))})),setTimeout((function(){setCompareHeight()}),250)}function populateCompareData(ele,data){var imageBlock=$(ele).find(".comparing-block.cards").not(".empty-cards");jQuery.each(data,(function(i,val){"ApplyNow"!=i&&("Id"==i&&$(ele).attr("data-id",val),"Name"!=i?"Image"!=i?"ApplyLink"!=i?$(ele).find("."+i).text(val):$(ele).find("."+i+" a").attr("href",val):imageBlock.find(".card-image").attr("src",data.Image):imageBlock.find(".card-title").text(data.Name))}))}function showLoaded(){$(".creditcard-toast").find(".selected-card li").hide().attr("data-id","").find(".title").text(""),$(".checkbox-list.addcompare").find('[type="checkbox"]').prop("checked",!1);var cardData=getCardDetail();$.each(loadedCards,(function(index,id){id&&($("#"+id).find('[type="checkbox"]').prop("checked",!0),$(".creditcard-toast").find(".selected-card li:eq("+index+")").show().attr("data-id",id).find(".title").text(cardData[index].Name))}))}function getCardDetail(){let tempArray=[];for(let index=0;index<cardDetails.length;index++){var element=cardDetails[index],element_index=$.inArray(element.Id,loadedCards);element_index>-1&&(tempArray[element_index]=element)}return tempArray}function loadCardData(){$.getJSON("assets/data/credit-card.json",(function(data){cardDetails=data})).fail((function(){console.log("An error has occurred.")}))}$.fn.equalMaxHeights=function(){var max_height=0;$(this).height("auto"),$(this).each((function(){max_height=Math.max($(this).outerHeight(),max_height)})),$(this).each((function(){$(this).height(max_height)}))},$(window).on("resize orientationchange",(function(){setCompareHeight()})),$(window).on("load",(function(){setCompareHeight();var hashData=window.location.hash.split("#").filter((function(v){return""!==v}));hashData.length>0&&(loadedCards=hashData),setTimeout((function(){populateCompare()}),250)})),$(document).ready((function(){loadCardData(),$(document).on("click",".empty-card-content",(function(){$(".comparing-card-popup").show(),$("body").addClass("no-scroll"),popupSlider(),$(".comparing-card-popup .popup-body").mCustomScrollbar(),showLoaded()})),$(".comparing-card-popup .close").click((function(){$(".comparing-card-popup").hide(),$("body").removeClass("no-scroll")})),$(".checkbox-list.addcompare").click((function(){$(".creditcard-toast").show()})),$(".checkbox-list.addcompare input").click((function(){var id=$(this).parent().attr("id");$(this).is(":checked")?addCardToCompare(id):removeCardFromCompare(id)})),$(".creditcard-toast .removecard").click((function(){$(".creditcard-toast").hide(),removeCardFromCompare("all"),setCompareHeight()})),$(".filter-dropdown").click((function(){$(this).toggleClass("active"),$(".filter-dropdown-content").toggleClass("hide")})),$(".selected-card li .close").click((function(){removeCardFromCompare($(this).parent().attr("data-id"))})),$(".comparecard").click((function(){populateCompare(),$(".comparing-card-popup, .creditcard-toast").hide(),$("body").removeClass("no-scroll")})),$(".removeFromCompare").click((function(){return removeCardFromCompare($(this).closest(".comparing-column.compare-content").attr("data-id")),$(this).closest(".comparing-column.compare-content").find(".comparing-block").addClass("hide"),$(this).closest(".comparing-column.compare-content").addClass("empty-card-content").find(".empty-cards").removeClass("hide"),!1})),$(".replaceCompare").click((function(){removeCardFromCompare($(this).closest(".comparing-column.compare-content").attr("data-id")),$(".comparing-card-popup").show(),$("body").addClass("no-scroll"),popupSlider(),$(".comparing-card-popup .popup-body").mCustomScrollbar(),showLoaded()})),$(".redirectToCompareCard").click((function(e){var redirectData="";$.each(loadedCards,(function(index,id){redirectData+="#"+id})),$(this).attr("href",$(this).attr("href")+"?"+redirectData)}))}));